\documentclass[arhiv]{../izpit}
\usepackage{fouriernc}
\usepackage{xcolor}
\usepackage{minted}


\begin{document}

\izpit{Programiranje II: poskusni izpit}{17.\ april 2024}{
  Čas reševanja je 60 minut.
  Veliko uspeha!
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\naloga[\tocke{15}]

Za vsakega izmed spodnjih programov prikažite vse spremembe sklada in kopice, če poženemo funkcijo \mintinline{rust}{main}. Za vsako spremembo označite, po kateri vrstici v kodi se zgodi.

\podnaloga
\begin{minted}{rust}
  fn f(a: i32, b: i32) -> i32 {
    a * b
  }
  fn g(x: i32) -> i32 {
    f(x, x + 1)
  }
  fn main() {
    let m = 6;
    let n = g(m);
    println!("{n}")
  }
\end{minted}

\podnaloga
\begin{minted}{rust}
  fn f(s: String) {
    println!("{s}")
  }
  fn g(s: String) {
    f(s)
  }
  fn main() {
    let s1 = String::from("4");
    let s2 = String::from("2");
    g(s1);
    println!("{s2}");
  }
\end{minted}

\podnaloga
\begin{minted}{rust}
  fn f(s: &String) {
    println!("{s}")
  }
  fn g(s: String) {
    f(&s)
  }
  fn main() {
    let s1 = String::from("4");
    let s2 = String::from("2");
    g(s1);
    println!("{s2}");
  }
\end{minted}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\naloga[\tocke{35}]

Za vsakega izmed spodnjih programov:
\begin{enumerate}
  \item razložite, zakaj Rust program zavrne;
  \item pokažite primer nedefiniranega vedenja, ki ga Rust s tem prepreči (če ga);
  \item program popravite tako, da bo veljaven in bo učinkovito dosegel prvotni namen.
\end{enumerate}

\podnaloga

\podnaloga

\podnaloga

\podnaloga

\podnaloga

\end{document}
